@{
    Layout = "_Layout";
}

@{
    var controller = this.Context.GetRouteData().Values["controller"].ToString();

    if (controller != null && controller != "") // Or another condition to decide when to load merchants.
    {
        var homeController = this.ViewContext.HttpContext.RequestServices.GetService(typeof(Basic.Controllers.HomeController)) as Basic.Controllers.HomeController;
        ViewBag.Merchants = homeController.LoadMerchantsAsync().Result;
    }
}
